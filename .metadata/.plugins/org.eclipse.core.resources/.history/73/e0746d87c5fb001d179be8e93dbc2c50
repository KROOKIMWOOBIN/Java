package StudentManagement;

import java.sql.*;

public class DB_Connect {

	public static void DBC() {
		
		Connection conn;
		Statement stmt = null;
		
		try {
			Class.forName("com.mysql.cj.jdbc.Driver");
			conn = DriverManager.getConnection("jdbc:mysql://localhost:3306/sampledb", "root", "dongyang");
			System.out.println("sampledb 연결 완료");
			stmt = conn.createStatement();
			ResultSet results = stmt.executeQuery("select * from studenttb1");
			// 추가
			// stmt.executeUpdate("insert into studenttb1 values('2022', '김우빈','컴퓨터공학');");
			// 수정
			// stmt.executeUpdate("update studenttb1 set sname='제임슨본드' where id='20002'");
			// 삭제 
			// stmt.executeUpdate("delete from studenttb1 where id='20001'");
			while(results.next()) {
				System.out.println(results.getString("id") + "|" + results.getString("sname") + "|" + results.getString("sdept"));
			}
			stmt.close();
		} catch (ClassNotFoundException e) {
			System.out.println("JDBC 드라이버 로드 에러");
			e.printStackTrace();
		} catch (SQLException e) {
			System.out.println("DB 연결 오류");
			e.printStackTrace();
		}
		
	}
	
}
